# æ ‡å‡†èµ„æºæ¨¡å—å¼€å‘æ–‡æ¡£

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

åŸºäºPostgreSQLæ•°æ®åº“è„šæœ¬è®¾è®¡çš„æ ‡å‡†èµ„æºç®¡ç†æ¨¡å—ï¼Œé‡‡ç”¨SpringBoot 3 + MyBatis-Plusæ¶æ„ï¼Œæä¾›æ ‡å‡†èµ„æºçš„å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†åŠŸèƒ½ã€‚

## ğŸ—ï¸ æ¨¡å—æ¶æ„

### æ ¸å¿ƒåŠŸèƒ½æ¨¡å—
- **æ ‡å‡†èµ„æºä¸»è¡¨ç®¡ç†** - æ ‡å‡†åŸºæœ¬ä¿¡æ¯çš„CRUDæ“ä½œ
- **æ ‡å‡†èµ„æºé™„ä»¶ç®¡ç†** - æ•°å­—åŒ–å†…å®¹æ–‡ä»¶ç®¡ç†
- **æœ¯è¯­å®šä¹‰ç®¡ç†** - æ ‡å‡†æœ¯è¯­è¯å…¸ç®¡ç†
- **å¼•ç”¨å…³è”ç®¡ç†** - æ ‡å‡†é—´å¼•ç”¨å…³ç³»ç»´æŠ¤
- **è§£è¯»ä¿¡æ¯ç®¡ç†** - æ ‡å‡†è§£è¯»æ–‡æ¡£ç®¡ç†

### æŠ€æœ¯æ ˆ
- **åç«¯æ¡†æ¶**: Spring Boot 3.2.4 + Java 21
- **æ•°æ®è®¿é—®**: MyBatis-Plus 3.5.5
- **æƒé™æ§åˆ¶**: Sa-Token 1.37.0
- **APIæ–‡æ¡£**: Knife4j + OpenAPI 3.0
- **æ•°æ®åº“**: PostgreSQL (å…¼å®¹MySQL)

## ğŸ“ æ¨¡å—ç»“æ„

```
newbie-standard/                     # æ ‡å‡†èµ„æºæ¨¡å—
â”œâ”€â”€ src/main/java/com/newbie/standard/
â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”œâ”€â”€ entity/                  # å®ä½“ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ StdResource.java
â”‚   â”‚   â”‚   â”œâ”€â”€ StdResourceAttachment.java
â”‚   â”‚   â”‚   â”œâ”€â”€ StdTerminology.java
â”‚   â”‚   â”‚   â”œâ”€â”€ StdResourceReference.java
â”‚   â”‚   â”‚   â””â”€â”€ StdInterpretation.java
â”‚   â”‚   â”œâ”€â”€ dto/                     # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”‚   â””â”€â”€ vo/                      # è§†å›¾å¯¹è±¡
â”‚   â”œâ”€â”€ mapper/                      # æ•°æ®è®¿é—®å±‚
â”‚   â”‚   â”œâ”€â”€ StdResourceMapper.java
â”‚   â”‚   â”œâ”€â”€ StdResourceAttachmentMapper.java
â”‚   â”‚   â”œâ”€â”€ StdTerminologyMapper.java
â”‚   â”‚   â”œâ”€â”€ StdResourceReferenceMapper.java
â”‚   â”‚   â””â”€â”€ StdInterpretationMapper.java
â”‚   â””â”€â”€ service/                     # ä¸šåŠ¡æœåŠ¡å±‚
â”‚       â”œâ”€â”€ StdResourceService.java
â”‚       â”œâ”€â”€ StdResourceAttachmentService.java
â”‚       â”œâ”€â”€ StdTerminologyService.java
â”‚       â”œâ”€â”€ StdResourceReferenceService.java
â”‚       â”œâ”€â”€ StdInterpretationService.java
â”‚       â””â”€â”€ impl/                    # æœåŠ¡å®ç°
â”‚           â”œâ”€â”€ StdResourceServiceImpl.java
â”‚           â”œâ”€â”€ StdResourceAttachmentServiceImpl.java
â”‚           â”œâ”€â”€ StdTerminologyServiceImpl.java
â”‚           â”œâ”€â”€ StdResourceReferenceServiceImpl.java
â”‚           â””â”€â”€ StdInterpretationServiceImpl.java
â””â”€â”€ src/main/resources/
    â””â”€â”€ mapper/                      # MyBatis XMLæ˜ å°„æ–‡ä»¶

newbie-admin/src/main/java/com/newbie/controller/standard/  # æ§åˆ¶å™¨å±‚
â”œâ”€â”€ StdResourceController.java
â”œâ”€â”€ StdResourceAttachmentController.java
â”œâ”€â”€ StdTerminologyController.java
â”œâ”€â”€ StdResourceReferenceController.java
â””â”€â”€ StdInterpretationController.java
```

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡

### æ ¸å¿ƒæ•°æ®è¡¨

#### 1. std_resource (æ ‡å‡†èµ„æºä¸»è¡¨)
- **åŠŸèƒ½**: å­˜å‚¨æ ‡å‡†çš„åŸºæœ¬ä¿¡æ¯
- **æ ¸å¿ƒå­—æ®µ**: resource_code(æ ‡å‡†ç¼–å·)ã€chinese_name(æ ‡å‡†åç§°)ã€standard_status(çŠ¶æ€)ç­‰
- **ç‰¹ç‚¹**: æ”¯æŒå¤šç§æ ‡å‡†ç±»å‹å’ŒçŠ¶æ€ç®¡ç†

#### 2. std_resource_attachment (æ ‡å‡†èµ„æºé™„ä»¶è¡¨)
- **åŠŸèƒ½**: å­˜å‚¨æ ‡å‡†çš„æ•°å­—åŒ–å†…å®¹æ–‡ä»¶
- **æ ¸å¿ƒå­—æ®µ**: attachment_name(æ–‡ä»¶å)ã€file_size(æ–‡ä»¶å¤§å°)ã€is_main_file(ä¸»æ–‡ä»¶æ ‡è¯†)ç­‰
- **ç‰¹ç‚¹**: æ”¯æŒå¤šç§æ–‡ä»¶ç±»å‹å’Œä¸»æ–‡ä»¶æ ‡è¯†

#### 3. std_terminology (æœ¯è¯­å®šä¹‰è¡¨)
- **åŠŸèƒ½**: å­˜å‚¨æ ‡å‡†ä¸­çš„æœ¯è¯­å’Œå®šä¹‰
- **æ ¸å¿ƒå­—æ®µ**: term_name(æœ¯è¯­)ã€english_term(è‹±æ–‡å¯¹åº”è¯)ã€definition(å®šä¹‰)ç­‰
- **ç‰¹ç‚¹**: æ”¯æŒæœ¯è¯­åˆ†ç±»å’Œæ’åº

#### 4. std_resource_reference (æ ‡å‡†èµ„æºå¼•ç”¨å…³è”è¡¨)
- **åŠŸèƒ½**: å­˜å‚¨æ ‡å‡†ä¹‹é—´çš„å¼•ç”¨å…³ç³»
- **æ ¸å¿ƒå­—æ®µ**: reference_type(å¼•ç”¨ç±»å‹)ã€reference_name(å¼•ç”¨æ–‡ä»¶å)ç­‰
- **ç‰¹ç‚¹**: æ”¯æŒ"å¼•ç”¨"å’Œ"è¢«å¼•ç”¨"åŒå‘å…³ç³»

#### 5. std_interpretation (æ–‡ä»¶è§£è¯»ä¿¡æ¯è¡¨)
- **åŠŸèƒ½**: å­˜å‚¨æ ‡å‡†çš„è§£è¯»æ–‡æ¡£ä¿¡æ¯
- **æ ¸å¿ƒå­—æ®µ**: source_title(è§£è¯»æ ‡é¢˜)ã€source_type(æ¥æºç±»å‹)ã€is_official(å®˜æ–¹æ ‡è¯†)ç­‰
- **ç‰¹ç‚¹**: æ”¯æŒæŸ¥çœ‹æ¬¡æ•°ç»Ÿè®¡å’Œå®˜æ–¹è§£è¯»æ ‡è¯†

## ğŸ”§ æ ¸å¿ƒåŠŸèƒ½å®ç°

### 1. æ ‡å‡†èµ„æºç®¡ç†
```java
// åˆ†é¡µæŸ¥è¯¢æ ‡å‡†èµ„æº
@GetMapping("/page")
public R<Page<StdResource>> page(@RequestParam Integer current, 
                                @RequestParam Integer size, 
                                StdResource stdResource)

// æ ¹æ®æ ‡å‡†ç¼–å·æŸ¥è¯¢
@GetMapping("/code/{resourceCode}")
public R<StdResource> getByResourceCode(@PathVariable String resourceCode)
```

### 2. é™„ä»¶ç®¡ç†
```java
// æ ¹æ®èµ„æºIDæŸ¥è¯¢é™„ä»¶åˆ—è¡¨
@GetMapping("/listByResourceId/{resourceId}")
public R<List<StdResourceAttachment>> listByResourceId(@PathVariable String resourceId)

// æŸ¥è¯¢ä¸»æ–‡ä»¶
@GetMapping("/mainFile/{resourceId}")
public R<StdResourceAttachment> getMainFileByResourceId(@PathVariable String resourceId)
```

### 3. æœ¯è¯­ç®¡ç†
```java
// æ ¹æ®èµ„æºIDæŸ¥è¯¢æœ¯è¯­åˆ—è¡¨(æŒ‰æ’åº)
@GetMapping("/listOrderBySort/{resourceId}")
public R<List<StdTerminology>> listByResourceIdOrderBySort(@PathVariable String resourceId)

// æ‰¹é‡å¯¼å…¥æœ¯è¯­
@PostMapping("/batchImport")
public R<Object> batchImport(@RequestBody List<StdTerminology> terminologyList)
```

### 4. å¼•ç”¨å…³ç³»ç®¡ç†
```java
// æŸ¥è¯¢å¼•ç”¨äº†æŒ‡å®šèµ„æºçš„å…¶ä»–æ ‡å‡†
@GetMapping("/listByReferenceId/{referenceId}")
public R<List<StdResourceReference>> listByReferenceId(@PathVariable String referenceId)

// ç»Ÿè®¡å¼•ç”¨æ•°é‡
@GetMapping("/count")
public R<Long> countByResourceIdAndType(@RequestParam String resourceId, 
                                       @RequestParam String referenceType)
```

### 5. è§£è¯»ä¿¡æ¯ç®¡ç†
```java
// æŸ¥è¯¢å®˜æ–¹è§£è¯»
@GetMapping("/listOfficial/{resourceId}")
public R<List<StdInterpretation>> listOfficialByResourceId(@PathVariable String resourceId)

// æ ¹æ®æ ‡é¢˜æœç´¢è§£è¯»
@GetMapping("/listByTitle")
public R<List<StdInterpretation>> listByTitleLike(@RequestParam String title)
```

## ğŸ”’ æƒé™æ§åˆ¶

### æƒé™ç‚¹è®¾è®¡
- **standard:resource:*** - æ ‡å‡†èµ„æºæƒé™
- **standard:attachment:*** - é™„ä»¶ç®¡ç†æƒé™
- **standard:terminology:*** - æœ¯è¯­ç®¡ç†æƒé™
- **standard:reference:*** - å¼•ç”¨å…³ç³»æƒé™
- **standard:interpretation:*** - è§£è¯»ä¿¡æ¯æƒé™

### æƒé™ç²’åº¦
- **list** - åˆ—è¡¨æŸ¥è¯¢æƒé™
- **query** - è¯¦æƒ…æŸ¥è¯¢æƒé™
- **add** - æ–°å¢æƒé™
- **update** - ä¿®æ”¹æƒé™
- **delete** - åˆ é™¤æƒé™
- **import** - å¯¼å…¥æƒé™

## ğŸš€ éƒ¨ç½²é…ç½®

### 1. æ•°æ®åº“åˆå§‹åŒ–
æ‰§è¡ŒPostgreSQLåˆå§‹åŒ–è„šæœ¬ï¼š
```sql
-- æ‰§è¡Œå®Œæ•´çš„æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
\i æ ‡å‡†èµ„æºæ¨¡å—-PostgreSQLåˆå§‹åŒ–.sql
```

### 2. ä¾èµ–é…ç½®
åœ¨ä¸»åº”ç”¨æ¨¡å—æ·»åŠ æ ‡å‡†èµ„æºæ¨¡å—ä¾èµ–ï¼š
```xml
<dependency>
    <groupId>com.newbie</groupId>
    <artifactId>newbie-standard</artifactId>
    <version>${project.version}</version>
</dependency>
```

### 3. åŒ…æ‰«æé…ç½®
ç¡®ä¿åŒ…æ‰«æåŒ…å«æ ‡å‡†èµ„æºæ¨¡å—ï¼š
```java
@ComponentScan(basePackages = {"com.newbie"})
@MapperScan("com.newbie.**.mapper")
```

## ğŸ“Š APIæ¥å£æ–‡æ¡£

æ‰€æœ‰æ¥å£å‡æ”¯æŒSwagger/OpenAPI 3.0æ–‡æ¡£ï¼Œé€šè¿‡ä»¥ä¸‹æ ‡ç­¾åˆ†ç»„ï¼š

- **æ ‡å‡†èµ„æºç®¡ç†** - `/standard/resource/**`
- **æ ‡å‡†èµ„æºé™„ä»¶ç®¡ç†** - `/standard/attachment/**`  
- **æœ¯è¯­å®šä¹‰ç®¡ç†** - `/standard/terminology/**`
- **æ ‡å‡†èµ„æºå¼•ç”¨å…³è”ç®¡ç†** - `/standard/reference/**`
- **æ–‡ä»¶è§£è¯»ä¿¡æ¯ç®¡ç†** - `/standard/interpretation/**`

### ä¸»è¦APIç¤ºä¾‹

#### æ ‡å‡†èµ„æºæŸ¥è¯¢
```http
GET /standard/resource/page?current=1&size=10&standardStatus=ç°è¡Œ
```

#### æœ¯è¯­å¯¼å…¥
```http
POST /standard/terminology/batchImport
Content-Type: application/json

[{
  "resourceId": "1",
  "termName": "åŸºæœ¬æ•°æ®é›†",
  "englishTerm": "Basic dataset",
  "definition": "æ•°æ®é›†å®šä¹‰...",
  "termCategory": "åŸºç¡€æœ¯è¯­"
}]
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ•°æ®å®Œæ•´æ€§**: æ‰€æœ‰å…³è”è¡¨éƒ½æœ‰å¤–é”®çº¦æŸï¼Œåˆ é™¤ä¸»è®°å½•æ—¶éœ€è¦å…ˆå¤„ç†å…³è”æ•°æ®
2. **å­—æ®µéªŒè¯**: æ ‡å‡†ç¼–å·éœ€è¦ä¿è¯å”¯ä¸€æ€§
3. **æ–‡ä»¶ç®¡ç†**: é™„ä»¶åˆ é™¤æ—¶éœ€è¦åŒæ­¥åˆ é™¤ç‰©ç†æ–‡ä»¶
4. **æƒé™æ§åˆ¶**: æ‰€æœ‰æ¥å£éƒ½éœ€è¦ç›¸åº”æƒé™æ‰èƒ½è®¿é—®
5. **äº‹åŠ¡ç®¡ç†**: æ‰¹é‡æ“ä½œä½¿ç”¨äº‹åŠ¡ç¡®ä¿æ•°æ®ä¸€è‡´æ€§

## ğŸ”„ æ‰©å±•åŠŸèƒ½

### å·²å®ç°åŠŸèƒ½
- âœ… åŸºç¡€CRUDæ“ä½œ
- âœ… åˆ†é¡µæŸ¥è¯¢æ”¯æŒ  
- âœ… å¤šæ¡ä»¶æœç´¢
- âœ… æ‰¹é‡æ“ä½œæ”¯æŒ
- âœ… æƒé™æ§åˆ¶é›†æˆ
- âœ… APIæ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆ

### å¯æ‰©å±•åŠŸèƒ½
- ğŸ“‹ æ ‡å‡†èµ„æºå¯¼å…¥å¯¼å‡º
- ğŸ“‹ æ ‡å‡†å˜æ›´å†å²è®°å½•
- ğŸ“‹ æ ‡å‡†è¯„å®¡æµç¨‹
- ğŸ“‹ æ ‡å‡†ä½¿ç”¨ç»Ÿè®¡åˆ†æ
- ğŸ“‹ æ ‡å‡†åˆ°æœŸæé†’

---

## ğŸ“ å¼€å‘è¯´æ˜

æœ¬æ¨¡å—ä¸¥æ ¼éµå¾ªé¡¹ç›®æ¶æ„è§„èŒƒï¼Œé‡‡ç”¨åˆ†å±‚è®¾è®¡ç¡®ä¿ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œæ‰©å±•æ€§ã€‚æ‰€æœ‰å…³é”®æ“ä½œéƒ½æœ‰å®Œå–„çš„å¼‚å¸¸å¤„ç†å’Œæ—¥å¿—è®°å½•ï¼Œç”Ÿäº§ç¯å¢ƒå¯ç›´æ¥éƒ¨ç½²ä½¿ç”¨ã€‚